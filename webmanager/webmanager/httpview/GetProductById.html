<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>通过ID获取单个商品</title>
    <script src="../Scripts/jquery-1.8.2.js"></script>
</head>
<body>
<div id="div1">
    <div>
        标示：<input type="text" id="txtid" />
    </div>
    <div><input type="button" id="bt1" value="提交" /></div>
</div>
<script>

    //获取单个商品

    $("#bt1").click(function () {
        //ajax;
        var ajaxUrl = "../product/GetProductById_get";
        var ajaxId = $("#txtid").val();

        $.ajax({
            url: ajaxUrl,
            data: {
                id: ajaxId,
            },
            success:function (returnData) {   //jQuery关于ajax返回获取值的回调函数
                console.log(returnData);   //参数returnData的值(string类型)：{"Id":"100","Data":"{\"id\":\"100\",\"name\":\"100\",\"price\":\"100\",\"imgsrc\":\"100.jpg\"}"}
                var jsonData = JSON.parse(returnData);   //将值转换成json对象
                console.log(jsonData);    //Object {Id: "100", Data: "{"id":"100","name":"100","price":"100","imgsrc":"100.jpg"}"}
                console.log(jsonData.Id);  //获取所得值的Id值

                var data = jsonData.Data;   //string类型，需要转换成对象
                console.log(data); //{"id":"1212","name":"上衣","price":"230","imgsrc":"123.jpg"}   ,字符串
                var datas = JSON.parse(data);  //转换为json对象
                console.log(datas);  //Object {id: "100", name: "100", price: "100", imgsrc: "100.jpg"}
                console.log(datas.id);  //100
                console.log(datas.name);  //100
                console.log(datas.price); //100
            }
        });
    })
</script>
</body>
</html>